"use strict";(()=>{var e={};e.id=63,e.ids=[63],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},2361:e=>{e.exports=require("events")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},2241:e=>{e.exports=require("https")},1808:e=>{e.exports=require("net")},2037:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},4404:e=>{e.exports=require("tls")},7310:e=>{e.exports=require("url")},9796:e=>{e.exports=require("zlib")},7138:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>m,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>x});var a={};r.r(a),r.d(a,{GET:()=>d,runtime:()=>p});var o=r(7506),s=r(5624),i=r(1301),n=r(3092),u=r(50);let p="nodejs";async function d(){let e=function(){let e=process.env.SUPABASE_URL||process.env.NEXT_PUBLIC_SUPABASE_URL,t=process.env.SUPABASE_SERVICE_ROLE;return e&&t?(0,u.eI)(e,t):null}();if(!e)return n.NextResponse.json({ok:!0,mock:!0,stats:{total:0,rateLimits:0},events:[]});let t=new Date(Date.now()-864e5).toISOString(),r=await e.from("audit_logs").select("id",{count:"exact",head:!0}).gte("created_at",t),a=await e.from("audit_logs").select("created_at, meta").eq("action","rate.limit").gte("created_at",t).order("created_at",{ascending:!1}).limit(50);return n.NextResponse.json({ok:!0,stats:{total:r.count??0,rateLimits:a.data?.length??0},events:a.data??[]})}let c=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/governance/audit/route",pathname:"/api/governance/audit",filename:"route",bundlePath:"app/api/governance/audit/route"},resolvedPagePath:"/Users/bfh/gTek-SaaS_GLOBAL-ENTERPRISE-TEMPLATES-WEBSITE/apps/gtek-web/app/api/governance/audit/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:x,serverHooks:g}=c,m="/api/governance/audit/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:x})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[202,151,50],()=>r(7138));module.exports=a})();