(()=>{var e={};e.id=448,e.ids=[448],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9615:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o}),t(8916),t(366),t(4872);var r=t(1218),n=t(8345),a=t(4380),l=t.n(a),i=t(306),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let o=["",{children:["console",{children:["governance",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8916)),"/Users/bfh/gTek-SaaS_GLOBAL-ENTERPRISE-TEMPLATES-WEBSITE/apps/gtek-web/app/console/governance/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,366)),"/Users/bfh/gTek-SaaS_GLOBAL-ENTERPRISE-TEMPLATES-WEBSITE/apps/gtek-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,4872,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/bfh/gTek-SaaS_GLOBAL-ENTERPRISE-TEMPLATES-WEBSITE/apps/gtek-web/app/console/governance/page.tsx"],x="/console/governance/page",h={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/console/governance/page",pathname:"/console/governance",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3890:(e,s,t)=>{Promise.resolve().then(t.bind(t,5447))},8579:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,6249,23)),Promise.resolve().then(t.t.bind(t,7445,23)),Promise.resolve().then(t.t.bind(t,5562,23)),Promise.resolve().then(t.t.bind(t,8178,23)),Promise.resolve().then(t.t.bind(t,6322,23)),Promise.resolve().then(t.t.bind(t,1851,23))},1660:()=>{},5447:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(4470),n=t(8230),a=t(1664);function l(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(null),[i,d]=(0,a.useState)(null),[o,c]=(0,a.useState)(null);return(0,r.jsxs)(n.Z,{children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Governance Dashboard"}),t&&(0,r.jsxs)("div",{className:"text-red-600 mb-4",children:["Error: ",t]}),!e&&!t&&r.jsx("div",{children:"Loading…"}),e&&(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Milestone Progress"}),!i&&!o&&r.jsx("div",{className:"text-sm text-gray-500",children:"Loading milestones…"}),o&&r.jsx("div",{className:"text-sm text-red-600",children:"Error loading milestones"}),i&&r.jsx("div",{className:"border p-3 rounded",children:(()=>{let e=i.milestones?.length??0,s=(i.milestones||[]).filter(e=>"done"===e.status).length;return(0,r.jsxs)("div",{children:[r.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2 mb-3",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${e>0?Math.round(s/e*100):0}%`}})}),r.jsx("ul",{className:"text-xs space-y-1",children:(i.milestones||[]).map(e=>(0,r.jsxs)("li",{children:["done"===e.status&&"✅"," ","in-progress"===e.status&&"\uD83D\uDD04"," ","pending"===e.status&&"⬜"," ",e.title]},e.id))})]})})()})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Last 24h"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{className:"border p-3 rounded",children:[r.jsx("div",{className:"text-gray-500",children:"Total audit events"}),r.jsx("div",{className:"text-2xl",children:e.stats.total})]}),(0,r.jsxs)("div",{className:"border p-3 rounded",children:[r.jsx("div",{className:"text-gray-500",children:"Rate limit hits"}),r.jsx("div",{className:"text-2xl",children:e.stats.rateLimits})]})]}),e.mock&&r.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"Mock data (no Supabase configured)"})]}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-medium mb-2",children:"Recent rate limit events"}),r.jsx("div",{className:"overflow-x-auto text-xs",children:(0,r.jsxs)("table",{className:"min-w-full border",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{className:"bg-gray-50",children:[r.jsx("th",{className:"text-left p-2 border",children:"Time (UTC)"}),r.jsx("th",{className:"text-left p-2 border",children:"IP"}),r.jsx("th",{className:"text-left p-2 border",children:"Path"}),r.jsx("th",{className:"text-left p-2 border",children:"Count"}),r.jsx("th",{className:"text-left p-2 border",children:"Limit"})]})}),r.jsx("tbody",{children:e.events.map((e,s)=>{let t=e.meta||{};return(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"p-2 border",children:new Date(e.created_at).toISOString()}),r.jsx("td",{className:"p-2 border",children:t.ip||"-"}),r.jsx("td",{className:"p-2 border",children:t.path||"-"}),r.jsx("td",{className:"p-2 border",children:t.count??"-"}),r.jsx("td",{className:"p-2 border",children:t.limit??"-"})]},s)})})]})})]})]})]})}},8230:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(4470);function n({children:e}){return(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsxs)("nav",{className:"p-3 border-b flex gap-3 text-sm",children:[r.jsx("a",{href:"/",children:"Home"}),r.jsx("a",{href:"/console",children:"Console"}),r.jsx("a",{href:"/console/vault",children:"Vault"}),r.jsx("a",{href:"/console/governance",children:"Governance"})]}),r.jsx("div",{className:"p-6",children:e})]})}},8916:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});var r=t(4259);let n=(0,r.createProxy)(String.raw`/Users/bfh/gTek-SaaS_GLOBAL-ENTERPRISE-TEMPLATES-WEBSITE/apps/gtek-web/app/console/governance/page.tsx`),{__esModule:a,$$typeof:l}=n;n.default;let i=(0,r.createProxy)(String.raw`/Users/bfh/gTek-SaaS_GLOBAL-ENTERPRISE-TEMPLATES-WEBSITE/apps/gtek-web/app/console/governance/page.tsx#default`)},366:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var r=t(8529);function n({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{children:e})})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[643,644],()=>t(9615));module.exports=r})();